<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>VietLongCrypto â€” Thá»‹ TrÆ°á»ng Tiá»n áº¢o</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --bg: #080c14;
    --surface: #0d1320;
    --surface2: #111928;
    --border: rgba(99,179,237,0.08);
    --accent: #00d4ff;
    --accent2: #7c3aed;
    --green: #00e676;
    --red: #ff3d57;
    --gold: #f59e0b;
    --text: #e2e8f0;
    --muted: #64748b;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--bg);
    color: var(--text);

    min-height: 100vh;
    overflow-x: hidden;
  }

  body::before {
    content: '';
    position: fixed; inset: 0;
    background-image:
      linear-gradient(rgba(0,212,255,0.025) 1px, transparent 1px),
      linear-gradient(90deg, rgba(0,212,255,0.025) 1px, transparent 1px);
    background-size: 44px 44px;
    pointer-events: none; z-index: 0;
  }

  .orb {
    position: fixed; border-radius: 50%;
    filter: blur(130px); pointer-events: none; z-index: 0; opacity: 0.11;
  }
  .orb1 { width: 800px; height: 800px; background: var(--accent2); top: -350px; right: -250px; }
  .orb2 { width: 700px; height: 700px; background: #0ea5e9; bottom: -350px; left: -200px; }

  /* â”€â”€â”€ Ticker â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .ticker-wrap {
    background: var(--surface); border-bottom: 1px solid var(--border);
    overflow: hidden; position: sticky; top: 0; z-index: 100;
  }
  .ticker {
    display: flex; animation: tickerAnim 65s linear infinite;
    white-space: nowrap; padding: 9px 0;
  }
  .ticker:hover { animation-play-state: paused; }
  .ticker-item {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 0 26px; font-family: Cambria, 'Times New Roman', serif; font-size: 11px;
    border-right: 1px solid var(--border); flex-shrink: 0;
  }
  .ticker-item .tsym { color: var(--accent); font-weight: 700; }
  .ticker-item .tup  { color: var(--green); }
  .ticker-item .tdn  { color: var(--red); }
  @keyframes tickerAnim { 0%{transform:translateX(0)} 100%{transform:translateX(-50%)} }

  /* â”€â”€â”€ Header â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  header {
    position: relative; z-index: 10;
    padding: 16px 40px;
    display: flex; align-items: center; justify-content: space-between;
    border-bottom: 1px solid var(--border);
    background: rgba(8,12,20,0.6); backdrop-filter: blur(12px);
  }

  /* Coin SVG Logo */
  .logo { display: flex; align-items: center; gap: 14px; cursor: default; }
  .logo-coin {
    width: 44px; height: 44px; flex-shrink: 0;
    filter: drop-shadow(0 0 10px rgba(0,212,255,0.5));
    animation: coinSpin 8s linear infinite;
  }
  @keyframes coinSpin {
    0%   { transform: rotateY(0deg); }
    45%  { transform: rotateY(0deg); }
    50%  { transform: rotateY(90deg); }
    55%  { transform: rotateY(180deg); }
    100% { transform: rotateY(180deg); }
  }
  .logo-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 20px;
    font-weight: 900;
    letter-spacing: 2px;
    line-height: 1;
    background: linear-gradient(90deg, #00d4ff 0%, #a78bfa 50%, #00d4ff 100%);
    background-size: 200% auto;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmer 4s linear infinite;
    text-shadow: none;
    filter: drop-shadow(0 0 8px rgba(0,212,255,0.35));
  }
  @keyframes shimmer { 0%{background-position:0%} 100%{background-position:200%} }
  .logo-sub { font-size: 10px; color: var(--muted); letter-spacing: 2.5px; text-transform: uppercase; margin-top: 2px; }

  .header-right { display: flex; align-items: center; gap: 28px; }
  .header-stats { display: flex; gap: 26px; }
  .header-stat .label { font-size: 10px; color: var(--muted); text-transform: uppercase; letter-spacing: 1px; }
  .header-stat .value { font-family: Cambria, 'Times New Roman', serif; font-size: 13px; margin-top: 3px; }

  .live-badge {
    display: inline-flex; align-items: center; gap: 7px;
    background: rgba(0,230,118,0.07); border: 1px solid rgba(0,230,118,0.22);
    border-radius: 20px; padding: 5px 14px;
    font-size: 11px; color: var(--green);
    font-family: Cambria, 'Times New Roman', serif; font-weight: 700; letter-spacing: 1px;
  }
  .live-dot { width: 7px; height: 7px; background: var(--green); border-radius: 50%; animation: pulse 1.5s infinite; }
  @keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.3;transform:scale(.65)} }

  /* â”€â”€â”€ Layout â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  main {
    position: relative; z-index: 10;
    max-width: 1500px; margin: 0 auto;
    padding: 32px 40px;
    display: grid;
    grid-template-columns: 1fr 360px;
    grid-template-rows: auto auto 1fr;
    gap: 24px;
  }
  .stats-row   { grid-column: 1 / -1; }
  .market-col  { grid-column: 1; }
  .news-col    { grid-column: 2; grid-row: 2 / 4; }

  /* â”€â”€â”€ Stats Cards â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .stats-row { display: grid; grid-template-columns: repeat(4,1fr); gap: 14px; }
  .stat-card {
    background: var(--surface); border: 1px solid var(--border);
    border-radius: 14px; padding: 18px 20px;
    position: relative; overflow: hidden;
    transition: border-color .25s, transform .25s;
  }
  .stat-card:hover { border-color: rgba(0,212,255,.2); transform: translateY(-2px); }
  .stat-card::after {
    content:''; position:absolute; top:0;left:0;right:0;height:2px;
    background:linear-gradient(90deg,var(--accent),var(--accent2));
    opacity:0; transition:opacity .25s;
  }
  .stat-card:hover::after { opacity:1; }
  .sc-label { font-size:10px;color:var(--muted);text-transform:uppercase;letter-spacing:1.5px;margin-bottom:8px; }
  .sc-value { font-family:Cambria,'Times New Roman',serif;font-size:19px;font-weight:700; }
  .sc-sub   { font-size:11px;color:var(--muted);margin-top:4px;font-family:Cambria,'Times New Roman',serif; }
  .sc-emoji { position:absolute;top:14px;right:16px;font-size:24px;opacity:.1; }

  /* â”€â”€â”€ Table â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .table-wrap { background:var(--surface);border:1px solid var(--border);border-radius:16px;overflow:hidden; }
  .table-toolbar {
    padding:14px 20px;border-bottom:1px solid var(--border);
    display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px;
  }
  .tabs { display:flex;gap:3px;background:var(--surface2);border-radius:8px;padding:3px; }
  .tab {
    padding:5px 14px;border-radius:5px;font-size:12px;font-weight:700;cursor:pointer;
    transition:all .2s;border:none;background:none;color:var(--muted);
  }
  .tab.active { background:var(--accent);color:#000; }
  .tab:hover:not(.active) { color:var(--text); }
  .search-box {
    display:flex;align-items:center;gap:8px;
    background:var(--surface2);border:1px solid var(--border);
    border-radius:8px;padding:7px 13px;width:190px;transition:border-color .2s;
  }
  .search-box:focus-within { border-color:rgba(0,212,255,.3); }
  .search-box input { background:none;border:none;outline:none;color:var(--text);font-family:Cambria,'Times New Roman',serif;font-size:13px;width:100%; }
  .search-box input::placeholder { color:var(--muted); }
  .ws-status { font-family:Cambria,'Times New Roman',serif;font-size:10px;color:var(--muted);letter-spacing:1px; }

  table { width:100%;border-collapse:collapse; }
  thead th {
    padding:10px 18px;text-align:left;
    font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;
    color:var(--muted);border-bottom:1px solid var(--border);white-space:nowrap;
  }
  thead th.r { text-align:right; }
  tbody tr { border-bottom:1px solid rgba(255,255,255,0.025);transition:background .15s;animation:rowIn .3s ease both; }
  tbody tr:hover { background:rgba(0,212,255,0.035); }
  tbody tr:last-child { border-bottom:none; }
  @keyframes rowIn { from{opacity:0;transform:translateX(-8px)} to{opacity:1;transform:translateX(0)} }
  td { padding:12px 18px;font-size:13px;white-space:nowrap; }
  td.r { text-align:right; }

  .rank { color:var(--muted);font-family:Cambria,'Times New Roman',serif;font-size:11px; }
  .coin-cell { display:flex;align-items:center;gap:10px; }
  .coin-icon {
    width:32px;height:32px;border-radius:50%;
    display:flex;align-items:center;justify-content:center;
    font-size:14px;font-weight:700;flex-shrink:0;
  }
  .coin-name { font-weight:700;font-size:13px; }
  .coin-sym  { font-size:10px;color:var(--muted);font-family:Cambria,'Times New Roman',serif;margin-top:1px; }

  .price-val { font-family:Cambria,'Times New Roman',serif;font-size:13px;font-weight:700; }
  .flash-green { animation:fG .6s ease; }
  .flash-red   { animation:fR .6s ease; }
  @keyframes fG { 0%,100%{color:var(--text)} 40%{color:var(--green)} }
  @keyframes fR { 0%,100%{color:var(--text)} 40%{color:var(--red)} }

  .badge {
    font-family:Cambria,'Times New Roman',serif;font-size:11px;font-weight:700;
    padding:3px 7px;border-radius:4px;display:inline-block;min-width:68px;text-align:center;
  }
  .badge.up   { color:var(--green);background:rgba(0,230,118,.09); }
  .badge.down { color:var(--red);  background:rgba(255,61,87,.09); }
  .badge.neu  { color:var(--muted);background:rgba(100,116,139,.09); }
  .num { font-family:Cambria,'Times New Roman',serif;font-size:11px;color:var(--muted); }

  /* â”€â”€â”€ News Panel â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .news-panel {
    background:var(--surface);border:1px solid var(--border);
    border-radius:16px;overflow:hidden;
    display:flex;flex-direction:column;
    height: fit-content;
    max-height: 900px;
  }
  .news-header {
    padding:16px 20px;border-bottom:1px solid var(--border);
    display:flex;align-items:center;justify-content:space-between;
    flex-shrink:0;
  }
  .news-title {
    font-size:13px;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;
    display:flex;align-items:center;gap:8px;
  }
  .news-title svg { width:16px;height:16px;fill:var(--accent); }
  .news-refresh-btn {
    background:none;border:1px solid var(--border);border-radius:6px;
    padding:5px 10px;color:var(--muted);font-size:11px;cursor:pointer;
    font-family:Cambria,'Times New Roman',serif;transition:all .2s;
  }
  .news-refresh-btn:hover { color:var(--accent);border-color:rgba(0,212,255,.3); }
  .news-refresh-btn:disabled { opacity:.4;cursor:not-allowed; }

  .news-feed {
    overflow-y:auto;flex:1;
    scrollbar-width:thin;scrollbar-color:var(--border) transparent;
  }
  .news-feed::-webkit-scrollbar { width:4px; }
  .news-feed::-webkit-scrollbar-thumb { background:var(--border);border-radius:2px; }

  .news-item {
    padding:16px 20px;border-bottom:1px solid var(--border);
    animation:rowIn .4s ease both;cursor:pointer;
    transition:background .15s;
  }
  .news-item:hover { background:rgba(0,212,255,.03); }
  .news-item:last-child { border-bottom:none; }

  .news-meta {
    display:flex;align-items:center;gap:8px;margin-bottom:7px;flex-wrap:wrap;
  }
  .news-sentiment {
    font-size:10px;font-weight:700;padding:2px 7px;border-radius:10px;
    font-family:Cambria,'Times New Roman',serif;letter-spacing:.5px;
  }
  .news-sentiment.bullish  { color:var(--green);background:rgba(0,230,118,.1); }
  .news-sentiment.bearish  { color:var(--red);  background:rgba(255,61,87,.1); }
  .news-sentiment.neutral  { color:var(--gold); background:rgba(245,158,11,.1); }
  .news-source {
    font-size:10px;color:var(--muted);font-family:Cambria,'Times New Roman',serif;
  }
  .news-time { font-size:10px;color:var(--muted);margin-left:auto; }
  .news-headline {
    font-size:13px;font-weight:600;line-height:1.45;color:var(--text);
    margin-bottom:6px;
  }
  .news-summary {
    font-size:11px;color:var(--muted);line-height:1.55;
  }
  .news-coins { display:flex;gap:5px;margin-top:8px;flex-wrap:wrap; }
  .news-coin-tag {
    font-size:10px;font-family:Cambria,'Times New Roman',serif;
    color:var(--accent);background:rgba(0,212,255,.08);
    border:1px solid rgba(0,212,255,.15);
    border-radius:4px;padding:1px 6px;
  }

  .news-loading {
    display:flex;flex-direction:column;align-items:center;
    justify-content:center;padding:40px;gap:12px;
    color:var(--muted);font-family:Cambria,'Times New Roman',serif;font-size:12px;
  }
  .news-spinner {
    width:30px;height:30px;
    border:2px solid var(--border);border-top-color:var(--accent);
    border-radius:50%;animation:spin .7s linear infinite;
  }
  @keyframes spin { to{transform:rotate(360deg)} }

  .news-ai-badge {
    font-size:9px;font-weight:700;letter-spacing:1px;
    color:var(--accent2);background:rgba(124,58,237,.12);
    border:1px solid rgba(124,58,237,.25);
    border-radius:4px;padding:2px 6px;font-family:Cambria,'Times New Roman',serif;
  }

  /* â”€â”€â”€ State boxes â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ */
  .state-box {
    display:flex;flex-direction:column;align-items:center;justify-content:center;
    padding:60px;gap:14px;color:var(--muted);
    font-family:Cambria,'Times New Roman',serif;font-size:12px;text-align:center;
  }
  .spinner {
    width:36px;height:36px;
    border:3px solid var(--border);border-top-color:var(--accent);
    border-radius:50%;animation:spin .75s linear infinite;
  }

  footer {
    position:relative;z-index:10;text-align:center;padding:22px;
    color:var(--muted);font-size:11px;border-top:1px solid var(--border);
    font-family:Cambria,'Times New Roman',serif;
  }
  footer .hl { color:var(--accent); }

  @media (max-width:1100px) {
    main { grid-template-columns:1fr;grid-template-rows:auto; }
    .stats-row { grid-column:1; }
    .market-col,.news-col { grid-column:1;grid-row:auto; }
    .news-panel { max-height:500px; }
  }
  @media (max-width:768px) {
    header { padding:14px 16px; }
    .header-stats { display:none; }
    main { padding:16px; }
    .stats-row { grid-template-columns:repeat(2,1fr); }
    .hide-sm { display:none!important; }
  }
</style>
</head>
<body>
<div class="orb orb1"></div>
<div class="orb orb2"></div>

<!-- Ticker -->
<div class="ticker-wrap">
  <div class="ticker" id="ticker">
    <span class="ticker-item"><span class="tsym">â³ Äang káº¿t ná»‘i Binance...</span></span>
  </div>
</div>

<!-- Header -->
<header>
  <div class="logo">
    <!-- Coin SVG Logo -->
    <svg class="logo-coin" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg">
      <defs>
        <linearGradient id="coinGrad" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#00d4ff"/>
          <stop offset="50%" stop-color="#7c3aed"/>
          <stop offset="100%" stop-color="#00d4ff"/>
        </linearGradient>
        <linearGradient id="coinFace" x1="0%" y1="0%" x2="100%" y2="100%">
          <stop offset="0%" stop-color="#1e3a5f"/>
          <stop offset="100%" stop-color="#0d1320"/>
        </linearGradient>
        <radialGradient id="coinShine" cx="35%" cy="30%">
          <stop offset="0%" stop-color="rgba(0,212,255,0.25)"/>
          <stop offset="100%" stop-color="rgba(0,0,0,0)"/>
        </radialGradient>
        <filter id="glow">
          <feGaussianBlur stdDeviation="1.5" result="blur"/>
          <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
        </filter>
      </defs>
      <!-- Coin rim -->
      <circle cx="22" cy="22" r="21" fill="url(#coinGrad)"/>
      <!-- Coin face -->
      <circle cx="22" cy="22" r="18.5" fill="url(#coinFace)"/>
      <!-- Shine -->
      <circle cx="22" cy="22" r="18.5" fill="url(#coinShine)"/>
      <!-- Ring detail -->
      <circle cx="22" cy="22" r="16" fill="none" stroke="rgba(0,212,255,0.2)" stroke-width="0.6"/>
      <!-- VLC text -->
      <text x="22" y="18" text-anchor="middle" font-family="Cambria,'Times New Roman',serif" font-weight="800" font-size="6" fill="url(#coinGrad)" filter="url(#glow)">VLC</text>
      <!-- Big V symbol -->
      <path d="M14 22 L22 30 L30 22" fill="none" stroke="url(#coinGrad)" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round" filter="url(#glow)"/>
    </svg>

    <div>
      <div class="logo-text">VietLongCrypto</div>
    </div>
  </div>

  <div class="header-right">
    <div class="header-stats">
      <div class="header-stat">
        <div class="label">Æ¯á»›c TÃ­nh Vá»‘n HÃ³a</div>
        <div class="value" id="hMcap">â€”</div>
      </div>
      <div class="header-stat">
        <div class="label">Khá»‘i LÆ°á»£ng 24h</div>
        <div class="value" id="hVol">â€”</div>
      </div>
      <div class="header-stat">
        <div class="label">BTC Dominance</div>
        <div class="value" id="hBtcDom">â€”</div>
      </div>
    </div>
    <div class="live-badge"><div class="live-dot"></div>LIVE</div>
  </div>
</header>

<main>
  <!-- Stats row -->
  <div class="stats-row">
    <div class="stat-card">
      <div class="sc-label">Äang Theo DÃµi</div>
      <div class="sc-value">20 Coins</div>
      <div class="sc-sub" id="sLastUpdate">Äang káº¿t ná»‘i...</div>
      <div class="sc-emoji">ğŸ“¡</div>
    </div>
    <div class="stat-card">
      <div class="sc-label">TÄƒng Máº¡nh Nháº¥t 24h</div>
      <div class="sc-value" id="sTopGain" style="color:var(--green)">â€”</div>
      <div class="sc-sub" id="sTopGainName">â€”</div>
      <div class="sc-emoji">ğŸš€</div>
    </div>
    <div class="stat-card">
      <div class="sc-label">Giáº£m Máº¡nh Nháº¥t 24h</div>
      <div class="sc-value" id="sTopLoss" style="color:var(--red)">â€”</div>
      <div class="sc-sub" id="sTopLossName">â€”</div>
      <div class="sc-emoji">ğŸ“‰</div>
    </div>
    <div class="stat-card">
      <div class="sc-label">TÄƒng / Giáº£m / Ngang</div>
      <div class="sc-value" id="sRatio">â€”</div>
      <div class="sc-sub">Trong 20 Ä‘á»“ng theo dÃµi</div>
      <div class="sc-emoji">âš–ï¸</div>
    </div>
  </div>

  <!-- Market table -->
  <div class="market-col">
    <div class="table-wrap">
      <div class="table-toolbar">
        <div class="tabs">
          <button class="tab active" onclick="setTab(this,'all')">Táº¥t Cáº£</button>
          <button class="tab" onclick="setTab(this,'gainers')">ğŸŸ¢ TÄƒng</button>
          <button class="tab" onclick="setTab(this,'losers')">ğŸ”´ Giáº£m</button>
        </div>
        <div style="display:flex;align-items:center;gap:12px">
          <span class="ws-status" id="wsStatus">â³ Äang káº¿t ná»‘i...</span>
          <div class="search-box">
            <span style="color:var(--muted);font-size:13px">ğŸ”</span>
            <input type="text" id="searchInput" placeholder="TÃ¬m coin..." oninput="render()">
          </div>
        </div>
      </div>
      <div id="tableArea">
        <div class="state-box"><div class="spinner"></div><div>Äang táº£i dá»¯ liá»‡u tá»« Binance...</div></div>
      </div>
    </div>
  </div>

  <!-- News panel -->
  <div class="news-col">
    <div class="news-panel">
      <div class="news-header">
        <div class="news-title">
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
          </svg>
          Tin Tá»©c Thá»‹ TrÆ°á»ng
          <span class="news-ai-badge">AI</span>
        </div>
        <button class="news-refresh-btn" id="newsRefreshBtn" onclick="fetchNews()">â†» LÃ m má»›i</button>
      </div>
      <div class="news-feed" id="newsFeed">
        <div class="news-loading">
          <div class="news-spinner"></div>
          <div>Äang táº£i tin tá»©c qua AI...</div>
        </div>
      </div>
    </div>
  </div>
</main>

<footer>
  GiÃ¡ realtime tá»« <span class="hl">Binance WebSocket</span> &nbsp;Â·&nbsp;
  Tin tá»©c phÃ¢n tÃ­ch bá»Ÿi <span class="hl">Claude AI</span> &nbsp;Â·&nbsp;
  Â© 2026 <span class="hl">VietLongCrypto</span> &nbsp;Â·&nbsp; KhÃ´ng pháº£i tÆ° váº¥n Ä‘áº§u tÆ°
</footer>

<script>
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  CONFIG
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SYMBOLS = [
  'BTCUSDT','ETHUSDT','BNBUSDT','SOLUSDT','XRPUSDT',
  'DOGEUSDT','ADAUSDT','AVAXUSDT','SHIBUSDT','DOTUSDT',
  'LTCUSDT','LINKUSDT','UNIUSDT','NEARUSDT','MATICUSDT',
  'TRXUSDT','ETCUSDT','APTUSDT','ARBUSDT','OPUSDT'
];

const META = {
  BTCUSDT:   { name:'Bitcoin',          sym:'BTC',  icon:'â‚¿', color:'#f7931a' },
  ETHUSDT:   { name:'Ethereum',         sym:'ETH',  icon:'Î', color:'#627eea' },
  BNBUSDT:   { name:'BNB',              sym:'BNB',  icon:'B', color:'#f3ba2f' },
  SOLUSDT:   { name:'Solana',           sym:'SOL',  icon:'â—', color:'#9945ff' },
  XRPUSDT:   { name:'XRP',              sym:'XRP',  icon:'âœ•', color:'#346aa9' },
  DOGEUSDT:  { name:'Dogecoin',         sym:'DOGE', icon:'Ã', color:'#c2a633' },
  ADAUSDT:   { name:'Cardano',          sym:'ADA',  icon:'â‚³', color:'#0033ad' },
  AVAXUSDT:  { name:'Avalanche',        sym:'AVAX', icon:'Î”', color:'#e84142' },
  SHIBUSDT:  { name:'Shiba Inu',        sym:'SHIB', icon:'S', color:'#ffa409' },
  DOTUSDT:   { name:'Polkadot',         sym:'DOT',  icon:'â—', color:'#e6007a' },
  LTCUSDT:   { name:'Litecoin',         sym:'LTC',  icon:'Å', color:'#bfbbbb' },
  LINKUSDT:  { name:'Chainlink',        sym:'LINK', icon:'â¬¡', color:'#375bd2' },
  UNIUSDT:   { name:'Uniswap',          sym:'UNI',  icon:'U', color:'#ff007a' },
  NEARUSDT:  { name:'NEAR Protocol',    sym:'NEAR', icon:'N', color:'#00c1de' },
  MATICUSDT: { name:'Polygon',          sym:'POL',  icon:'M', color:'#8247e5' },
  TRXUSDT:   { name:'TRON',             sym:'TRX',  icon:'T', color:'#ef0027' },
  ETCUSDT:   { name:'Ethereum Classic', sym:'ETC',  icon:'Î', color:'#328332' },
  APTUSDT:   { name:'Aptos',            sym:'APT',  icon:'A', color:'#00b5d8' },
  ARBUSDT:   { name:'Arbitrum',         sym:'ARB',  icon:'R', color:'#2d9ee0' },
  OPUSDT:    { name:'Optimism',         sym:'OP',   icon:'O', color:'#ff0420' },
};

const SUPPLY = {
  BTC:19700000, ETH:120000000, BNB:145000000, SOL:450000000,
  XRP:55000000000, DOGE:144000000000, ADA:35000000000, AVAX:390000000,
  SHIB:589000000000000, DOT:1400000000, LTC:74000000, LINK:600000000,
  UNI:600000000, NEAR:1100000000, POL:10000000000, TRX:87000000000,
  ETC:147000000, APT:1100000000, ARB:3800000000, OP:4300000000
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  MARKET STATE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const coins = {};
SYMBOLS.forEach(s => { coins[s] = { price:0, prev:0, change24h:0, high:0, low:0, vol:0 }; });
const history = {};
SYMBOLS.forEach(s => { history[s] = []; });

let currentTab = 'all';
let ws = null;
let reconnectTimer = null;
let firstData = false;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  FORMATTERS
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function fmtP(p) {
  if (!p) return 'â€”';
  if (p >= 10000) return '$' + p.toLocaleString('en',{maximumFractionDigits:0});
  if (p >= 1000)  return '$' + p.toLocaleString('en',{minimumFractionDigits:2,maximumFractionDigits:2});
  if (p >= 1)     return '$' + p.toFixed(4);
  if (p >= 0.001) return '$' + p.toFixed(5);
  return '$' + p.toFixed(8);
}
function fmtB(n) {
  if (!n) return 'â€”';
  if (n >= 1e12) return '$'+(n/1e12).toFixed(2)+'T';
  if (n >= 1e9)  return '$'+(n/1e9).toFixed(2)+'B';
  if (n >= 1e6)  return '$'+(n/1e6).toFixed(2)+'M';
  return '$'+(n/1e3).toFixed(2)+'K';
}
function sign(n) { return n >= 0 ? '+' : ''; }
function timeAgo(d) {
  const s = Math.floor((Date.now() - d)/1000);
  if (s < 60)   return s + 'g trÆ°á»›c';
  if (s < 3600) return Math.floor(s/60) + ' phÃºt trÆ°á»›c';
  if (s < 86400)return Math.floor(s/3600) + ' giá» trÆ°á»›c';
  return Math.floor(s/86400) + ' ngÃ y trÆ°á»›c';
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  SPARKLINE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function addHistory(sym, price) {
  const h = history[sym];
  h.push(price);
  if (h.length > 40) h.shift();
}
function sparkSVG(sym) {
  const h = history[sym];
  if (h.length < 2) return '<svg width="76" height="26"></svg>';
  const mn = Math.min(...h), mx = Math.max(...h), rng = mx-mn || 1;
  const w=76,hp=26,p=2;
  const pts = h.map((v,i)=>{
    const x = p+(i/(h.length-1))*(w-p*2);
    const y = hp-p-((v-mn)/rng)*(hp-p*2);
    return `${x.toFixed(1)},${y.toFixed(1)}`;
  }).join(' ');
  const clr = h[h.length-1] >= h[0] ? '#00e676' : '#ff3d57';
  return `<svg width="76" height="26" viewBox="0 0 76 26" style="display:block"><polyline points="${pts}" fill="none" stroke="${clr}" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  BINANCE WEBSOCKET
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function connect() {
  const streams = SYMBOLS.map(s => s.toLowerCase()+'@ticker').join('/');
  ws = new WebSocket('wss://stream.binance.com:9443/stream?streams=' + streams);

  ws.onopen = () => {
    document.getElementById('wsStatus').textContent = 'ğŸŸ¢ ÄÃ£ káº¿t ná»‘i';
    document.getElementById('sLastUpdate').textContent = 'Dá»¯ liá»‡u thá»i gian thá»±c';
    clearTimeout(reconnectTimer);
  };
  ws.onmessage = (evt) => {
    try {
      const d = JSON.parse(evt.data).data;
      if (!d || !d.s || !coins[d.s]) return;
      const c = coins[d.s];
      c.prev = c.price;
      c.price     = parseFloat(d.c) || 0;
      c.change24h = parseFloat(d.P) || 0;
      c.high      = parseFloat(d.h) || 0;
      c.low       = parseFloat(d.l) || 0;
      c.vol       = parseFloat(d.q) || 0;
      addHistory(d.s, c.price);
      if (!firstData && c.price > 0) { firstData = true; render(); }
    } catch(e) {}
  };
  ws.onerror = () => { document.getElementById('wsStatus').textContent = 'ğŸ”´ Lá»—i káº¿t ná»‘i'; };
  ws.onclose = () => {
    document.getElementById('wsStatus').textContent = 'ğŸŸ¡ Äang thá»­ láº¡i...';
    reconnectTimer = setTimeout(connect, 4000);
  };
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  RENDER MARKET TABLE
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function render() {
  const q = (document.getElementById('searchInput').value||'').toLowerCase().trim();
  let list = SYMBOLS.map(s => ({ sym:s, m:META[s], ...coins[s] }));
  if (currentTab === 'gainers') list = list.filter(c=>c.change24h>0).sort((a,b)=>b.change24h-a.change24h);
  else if (currentTab === 'losers') list = list.filter(c=>c.change24h<0).sort((a,b)=>a.change24h-b.change24h);
  if (q) list = list.filter(c=>c.m.name.toLowerCase().includes(q)||c.m.sym.toLowerCase().includes(q));

  updateTopStats(); updateHeader(); updateTicker();
  if (!firstData) return;
  if (!list.length) {
    document.getElementById('tableArea').innerHTML = '<div class="state-box"><div>KhÃ´ng tÃ¬m tháº¥y káº¿t quáº£</div></div>';
    return;
  }

  const rows = list.map((c,i) => {
    const { m } = c;
    const cls = c.change24h > 0.01 ? 'up' : c.change24h < -0.01 ? 'down' : 'neu';
    const fl  = c.price !== c.prev && c.prev > 0 ? (c.price>c.prev?'flash-green':'flash-red') : '';
    return `<tr style="animation-delay:${i*.02}s">
      <td><span class="rank">${i+1}</span></td>
      <td>
        <div class="coin-cell">
          <div class="coin-icon" style="background:${m.color}20;border:1px solid ${m.color}35;color:${m.color}">${m.icon}</div>
          <div>
            <div class="coin-name">${m.name}</div>
            <div class="coin-sym">${m.sym}</div>
          </div>
        </div>
      </td>
      <td class="r"><span class="price-val ${fl}">${fmtP(c.price)}</span></td>
      <td class="r"><span class="badge ${cls}">${sign(c.change24h)}${c.change24h.toFixed(2)}%</span></td>
      <td class="r hide-sm"><span class="num">${fmtP(c.high)}</span></td>
      <td class="r hide-sm"><span class="num">${fmtP(c.low)}</span></td>
      <td class="r hide-sm"><span class="num">${fmtB(c.vol)}</span></td>
      <td class="r hide-sm">${sparkSVG(c.sym)}</td>
    </tr>`;
  }).join('');

  document.getElementById('tableArea').innerHTML = `
    <table>
      <thead><tr>
        <th>#</th><th>Coin</th>
        <th class="r">GiÃ¡</th><th class="r">24h %</th>
        <th class="r hide-sm">Cao 24h</th><th class="r hide-sm">Tháº¥p 24h</th>
        <th class="r hide-sm">KL 24h</th><th class="r hide-sm">Biáº¿n Äá»™ng</th>
      </tr></thead>
      <tbody>${rows}</tbody>
    </table>`;
}

function updateTopStats() {
  const list = SYMBOLS.map(s=>({...coins[s],...META[s],sym:s})).filter(c=>c.price>0);
  if (!list.length) return;
  const sorted = [...list].sort((a,b)=>b.change24h-a.change24h);
  const top = sorted[0], bot = sorted[sorted.length-1];
  const up = list.filter(c=>c.change24h>0.01).length;
  const dn = list.filter(c=>c.change24h<-0.01).length;
  document.getElementById('sTopGain').textContent    = `+${(top.change24h||0).toFixed(2)}%`;
  document.getElementById('sTopGainName').textContent = top.name;
  document.getElementById('sTopLoss').textContent    = `${(bot.change24h||0).toFixed(2)}%`;
  document.getElementById('sTopLossName').textContent = bot.name;
  document.getElementById('sRatio').textContent       = `${up} â–² / ${dn} â–¼ / ${list.length-up-dn} â€”`;
}

function updateHeader() {
  const list = SYMBOLS.map(s=>({...coins[s],...META[s],sym:s})).filter(c=>c.price>0);
  if (!list.length) return;
  const totalVol  = list.reduce((s,c)=>s+c.vol,0);
  const totalMcap = list.reduce((s,c)=>s+c.price*(SUPPLY[c.sym]||1e9),0);
  const btc = list.find(c=>c.sym==='BTC');
  const btcMcap = btc ? btc.price * SUPPLY.BTC : 0;
  document.getElementById('hVol').textContent    = fmtB(totalVol);
  document.getElementById('hMcap').textContent   = fmtB(totalMcap);
  document.getElementById('hBtcDom').textContent = totalMcap ? ((btcMcap/totalMcap)*100).toFixed(1)+'%' : 'â€”';
}

function updateTicker() {
  const list = SYMBOLS.map(s=>({...coins[s],...META[s]})).filter(c=>c.price>0);
  if (!list.length) return;
  const html = list.map(c=>{
    const cls = c.change24h>=0?'tup':'tdn';
    return `<span class="ticker-item"><span class="tsym">${c.sym}</span><span>${fmtP(c.price)}</span><span class="${cls}">${sign(c.change24h)}${c.change24h.toFixed(2)}%</span></span>`;
  }).join('');
  document.getElementById('ticker').innerHTML = html+html;
}

function setTab(el, tab) {
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
  currentTab = tab;
  render();
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  AI NEWS (via Anthropic API)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
let newsData = [];
let isFetchingNews = false;
let newsRefreshInterval = null;

async function fetchNews() {
  if (isFetchingNews) return;
  isFetchingNews = true;

  const btn = document.getElementById('newsRefreshBtn');
  btn.disabled = true;
  btn.textContent = 'â³ Äang táº£i...';

  document.getElementById('newsFeed').innerHTML = `
    <div class="news-loading">
      <div class="news-spinner"></div>
      <div>Claude AI Ä‘ang phÃ¢n tÃ­ch thá»‹ trÆ°á»ng...</div>
    </div>`;

  try {
    // Get current market snapshot to give Claude context
    const snapshot = SYMBOLS.slice(0,8).map(s => {
      const c = coins[s];
      const m = META[s];
      return `${m.name}(${m.sym}): $${c.price>0?fmtP(c.price).replace('$',''):'N/A'} | ${sign(c.change24h)}${c.change24h.toFixed(2)}%`;
    }).join('\n');

    const today = new Date().toLocaleDateString('vi-VN', { weekday:'long', year:'numeric', month:'long', day:'numeric' });

    const prompt = `HÃ´m nay lÃ  ${today}.

Dá»¯ liá»‡u thá»‹ trÆ°á»ng realtime hiá»‡n táº¡i:
${snapshot}

HÃ£y táº¡o 6 tin tá»©c thá»‹ trÆ°á»ng crypto Cá»¤ THá»‚ vÃ  THá»°C Táº¾ dá»±a trÃªn:
1. Biáº¿n Ä‘á»™ng giÃ¡ thá»±c táº¿ á»Ÿ trÃªn
2. CÃ¡c sá»± kiá»‡n thá»‹ trÆ°á»ng crypto quan trá»ng Ä‘ang diá»…n ra cuá»‘i thÃ¡ng 2/2026
3. Xu hÆ°á»›ng DeFi, Layer2, ETF crypto, regulatory, macroeconomics áº£nh hÆ°á»Ÿng crypto

Tráº£ vá» JSON thuáº§n tÃºy (KHÃ”NG cÃ³ markdown, KHÃ”NG cÃ³ \`\`\`), dáº¡ng máº£ng:
[
  {
    "headline": "TiÃªu Ä‘á» tin tá»©c ngáº¯n gá»n báº±ng tiáº¿ng Viá»‡t, cá»¥ thá»ƒ",
    "summary": "TÃ³m táº¯t 1-2 cÃ¢u chi tiáº¿t, phÃ¢n tÃ­ch sÃ¢u báº±ng tiáº¿ng Viá»‡t",
    "sentiment": "bullish|bearish|neutral",
    "source": "Reuters|Bloomberg|CoinDesk|Decrypt|CoinTelegraph|The Block",
    "coins": ["BTC","ETH"],
    "minutesAgo": sá»‘_phÃºt_trÆ°á»›c
  }
]

YÃªu cáº§u: tin tá»©c Ä‘a dáº¡ng, chuyÃªn nghiá»‡p, pháº£n Ã¡nh tÃ¬nh hÃ¬nh thá»±c táº¿ thá»‹ trÆ°á»ng 2026. minutesAgo tá»« 5 Ä‘áº¿n 180.`;

    const res = await fetch('https://api.anthropic.com/v1/messages', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        model: 'claude-sonnet-4-20250514',
        max_tokens: 1800,
        messages: [{ role:'user', content: prompt }]
      })
    });

    const data = await res.json();
    const raw = data.content.map(b=>b.text||'').join('').trim();
    
    // Clean markdown fences if present
    const cleaned = raw.replace(/^```json\s*/,'').replace(/```\s*$/,'').trim();
    newsData = JSON.parse(cleaned);
    renderNews();

  } catch(e) {
    document.getElementById('newsFeed').innerHTML = `
      <div class="news-loading">
        <div style="font-size:28px">âš ï¸</div>
        <div>KhÃ´ng thá»ƒ táº£i tin tá»©c.<br>Vui lÃ²ng thá»­ láº¡i.</div>
      </div>`;
  }

  btn.disabled = false;
  btn.textContent = 'â†» LÃ m má»›i';
  isFetchingNews = false;
}

function renderNews() {
  if (!newsData.length) return;
  const html = newsData.map((n, i) => {
    const sentimentLabel = { bullish:'ğŸ“ˆ TÄƒng GiÃ¡', bearish:'ğŸ“‰ Giáº£m GiÃ¡', neutral:'âš–ï¸ Trung Láº­p' }[n.sentiment] || n.sentiment;
    const ts = Date.now() - (n.minutesAgo||10)*60000;
    const coinTags = (n.coins||[]).slice(0,4).map(c=>`<span class="news-coin-tag">${c}</span>`).join('');
    return `<div class="news-item" style="animation-delay:${i*.06}s">
      <div class="news-meta">
        <span class="news-sentiment ${n.sentiment}">${sentimentLabel}</span>
        <span class="news-source">${n.source||'Market'}</span>
        <span class="news-time">${timeAgo(ts)}</span>
      </div>
      <div class="news-headline">${n.headline}</div>
      <div class="news-summary">${n.summary}</div>
      ${coinTags ? `<div class="news-coins">${coinTags}</div>` : ''}
    </div>`;
  }).join('');
  document.getElementById('newsFeed').innerHTML = html;
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
//  BOOT
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
connect();
setInterval(render, 1500);

// Load news on start, refresh every 10 minutes
fetchNews();
newsRefreshInterval = setInterval(fetchNews, 10 * 60 * 1000);
</script>
</body>
</html>
